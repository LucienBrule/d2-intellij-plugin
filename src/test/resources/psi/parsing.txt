D2 File
  PsiComment(COMMENT)('# comments are supported')
  PsiWhiteSpace('\n')
  ShapeDeclaration(SHAPE_DECLARATION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('logs')
    PsiElement(COLON)(':')
    PsiWhiteSpace(' ')
    D2BlockDefinition(BLOCK_DEFINITION)
      PsiElement(LBRACE)('{')
      PsiWhiteSpace('\n  ')
      PsiComment(COMMENT)('# proper highlighting of special keywords as "fields" (like a JSON),')
      PsiWhiteSpace('\n  ')
      PsiComment(COMMENT)('# and unquoted string literal for values as string,')
      PsiWhiteSpace('\n  ')
      D2Property(PROPERTY)
        D2PropertyKey(PROPERTY_KEY)
          PsiElement(SIMPLE_RESERVED_KEYWORDS)('shape')
        PsiElement(COLON)(':')
        PsiWhiteSpace(' ')
        UnquotedStringValue(UNQUOTED_STRING_VALUE)
          PsiElement(UNQUOTED_STRING)('page')
      PsiWhiteSpace('\n\n')
      PsiWhiteSpace('  ')
      PsiComment(COMMENT)('# still boolean or int literals is properly highlighted')
      PsiWhiteSpace('\n  ')
      D2Property(PROPERTY)
        D2PropertyKey(PROPERTY_KEY)
          PsiElement(STYLE_KEYWORD)('style')
          PsiElement(DOT)('.')
          PsiElement(STYLE_KEYWORDS)('multiple')
        PsiElement(COLON)(':')
        PsiWhiteSpace(' ')
        OtherValue(OTHER_VALUE)
          PsiElement(TRUE)('true')
      PsiWhiteSpace('\n')
      PsiElement(RBRACE)('}')
  PsiWhiteSpace('\n\n')
  PsiComment(COMMENT)('# shape id with space is supported')
  PsiWhiteSpace('\n')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('logs foo bar')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('logs')
  PsiWhiteSpace('\n\n')
  PsiComment(COMMENT)('# color on a gutter is supported, including changing;')
  PsiWhiteSpace('\n')
  PsiComment(COMMENT)('# proper highlighting of special keywords works also for inline form')
  PsiWhiteSpace('\n')
  ShapeId(SHAPE_ID)
    PsiElement(ID)('logs')
  PsiElement(DOT)('.')
  D2Property(PROPERTY)
    D2PropertyKey(PROPERTY_KEY)
      PsiElement(STYLE_KEYWORD)('style')
      PsiElement(DOT)('.')
      PsiElement(STYLE_KEYWORDS)('stroke')
    PsiElement(COLON)(':')
    PsiWhiteSpace(' ')
    ColorValue(COLOR_VALUE)
      PsiElement(COLOR)('"#694024"')
  PsiWhiteSpace('\n\n')
  ShapeDeclaration(SHAPE_DECLARATION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('user')
    PsiElement(COLON)(':')
    PsiWhiteSpace(' ')
    ShapeLabel(SHAPE_LABEL)
      PsiElement(UNQUOTED_STRING)('User')
    PsiWhiteSpace(' ')
    D2BlockDefinition(BLOCK_DEFINITION)
      PsiElement(LBRACE)('{')
      D2Property(PROPERTY)
        D2PropertyKey(PROPERTY_KEY)
          PsiElement(SIMPLE_RESERVED_KEYWORDS)('shape')
        PsiElement(COLON)(':')
        PsiWhiteSpace(' ')
        UnquotedStringValue(UNQUOTED_STRING_VALUE)
          PsiElement(UNQUOTED_STRING)('person')
      PsiElement(RBRACE)('}')
  PsiWhiteSpace('\n')
  ShapeDeclaration(SHAPE_DECLARATION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('network')
    PsiElement(COLON)(':')
    PsiWhiteSpace(' ')
    ShapeLabel(SHAPE_LABEL)
      PsiElement(UNQUOTED_STRING)('Network')
    PsiWhiteSpace(' ')
    D2BlockDefinition(BLOCK_DEFINITION)
      PsiElement(LBRACE)('{')
      PsiWhiteSpace('\n  ')
      ShapeId(SHAPE_ID)
        PsiElement(ID)('tower')
      PsiElement(COLON)(':')
      PsiWhiteSpace(' ')
      ShapeLabel(SHAPE_LABEL)
        PsiElement(UNQUOTED_STRING)('Cell Tower')
      PsiWhiteSpace(' ')
      D2BlockDefinition(BLOCK_DEFINITION)
        PsiElement(LBRACE)('{')
        PsiWhiteSpace('\n    ')
        ShapeId(SHAPE_ID)
          PsiElement(ID)('satellites')
        PsiElement(COLON)(':')
        PsiWhiteSpace(' ')
        D2BlockDefinition(BLOCK_DEFINITION)
          PsiElement(LBRACE)('{')
          PsiWhiteSpace('\n      ')
          D2Property(PROPERTY)
            D2PropertyKey(PROPERTY_KEY)
              PsiElement(SIMPLE_RESERVED_KEYWORDS)('shape')
            PsiElement(COLON)(':')
            PsiWhiteSpace(' ')
            UnquotedStringValue(UNQUOTED_STRING_VALUE)
              PsiElement(UNQUOTED_STRING)('stored_data')
          PsiWhiteSpace('\n')
          PsiWhiteSpace('      ')
          D2Property(PROPERTY)
            D2PropertyKey(PROPERTY_KEY)
              PsiElement(STYLE_KEYWORD)('style')
              PsiElement(DOT)('.')
              PsiElement(STYLE_KEYWORDS)('multiple')
            PsiElement(COLON)(':')
            PsiWhiteSpace(' ')
            OtherValue(OTHER_VALUE)
              PsiElement(TRUE)('true')
          PsiWhiteSpace('\n')
          PsiWhiteSpace('    ')
          PsiElement(RBRACE)('}')
        PsiWhiteSpace('\n\n    ')
        D2ShapeConnection(SHAPE_CONNECTION)
          ShapeId(SHAPE_ID)
            PsiElement(ID)('satellites')
          PsiWhiteSpace(' ')
          D2Connector(CONNECTOR)
            PsiElement(ARROW)('->')
          PsiWhiteSpace(' ')
          ShapeId(SHAPE_ID)
            PsiElement(ID)('transmitter')
        PsiWhiteSpace('\n    ')
        D2ShapeConnection(SHAPE_CONNECTION)
          ShapeId(SHAPE_ID)
            PsiElement(ID)('satellites')
          PsiWhiteSpace(' ')
          D2Connector(CONNECTOR)
            PsiElement(ARROW)('->')
          PsiWhiteSpace(' ')
          ShapeId(SHAPE_ID)
            PsiElement(ID)('transmitter')
        PsiWhiteSpace('\n    ')
        D2ShapeConnection(SHAPE_CONNECTION)
          ShapeId(SHAPE_ID)
            PsiElement(ID)('satellites')
          PsiWhiteSpace(' ')
          D2Connector(CONNECTOR)
            PsiElement(ARROW)('->')
          PsiWhiteSpace(' ')
          ShapeId(SHAPE_ID)
            PsiElement(ID)('transmitter')
        PsiWhiteSpace('\n    ')
        ShapeId(SHAPE_ID)
          PsiElement(ID)('transmitter')
        PsiWhiteSpace('\n  ')
        PsiElement(RBRACE)('}')
      PsiWhiteSpace('\n  ')
      ShapeId(SHAPE_ID)
        PsiElement(ID)('processor')
      PsiElement(COLON)(':')
      PsiWhiteSpace(' ')
      ShapeLabel(SHAPE_LABEL)
        PsiElement(UNQUOTED_STRING)('Data Processor')
      PsiWhiteSpace(' ')
      D2BlockDefinition(BLOCK_DEFINITION)
        PsiElement(LBRACE)('{')
        PsiWhiteSpace('\n    ')
        ShapeId(SHAPE_ID)
          PsiElement(ID)('storage')
        PsiElement(COLON)(':')
        PsiWhiteSpace(' ')
        ShapeLabel(SHAPE_LABEL)
          PsiElement(UNQUOTED_STRING)('Storage')
        PsiWhiteSpace(' ')
        D2BlockDefinition(BLOCK_DEFINITION)
          PsiElement(LBRACE)('{')
          PsiWhiteSpace('\n      ')
          D2Property(PROPERTY)
            D2PropertyKey(PROPERTY_KEY)
              PsiElement(SIMPLE_RESERVED_KEYWORDS)('shape')
            PsiElement(COLON)(':')
            PsiWhiteSpace(' ')
            UnquotedStringValue(UNQUOTED_STRING_VALUE)
              PsiElement(UNQUOTED_STRING)('cylinder')
          PsiWhiteSpace('\n')
          PsiWhiteSpace('      ')
          D2Property(PROPERTY)
            D2PropertyKey(PROPERTY_KEY)
              PsiElement(STYLE_KEYWORD)('style')
              PsiElement(DOT)('.')
              PsiElement(STYLE_KEYWORDS)('multiple')
            PsiElement(COLON)(':')
            PsiWhiteSpace(' ')
            OtherValue(OTHER_VALUE)
              PsiElement(TRUE)('true')
          PsiWhiteSpace('\n')
          PsiWhiteSpace('    ')
          PsiElement(RBRACE)('}')
        PsiWhiteSpace('\n  ')
        PsiElement(RBRACE)('}')
      PsiWhiteSpace('\n  ')
      ShapeId(SHAPE_ID)
        PsiElement(ID)('portal')
      PsiElement(COLON)(':')
      PsiWhiteSpace(' ')
      ShapeLabel(SHAPE_LABEL)
        PsiElement(UNQUOTED_STRING)('Online Portal')
      PsiWhiteSpace(' ')
      D2BlockDefinition(BLOCK_DEFINITION)
        PsiElement(LBRACE)('{')
        PsiWhiteSpace('\n    ')
        ShapeId(SHAPE_ID)
          PsiElement(ID)('UI')
        PsiWhiteSpace('\n  ')
        PsiElement(RBRACE)('}')
      PsiWhiteSpace('\n\n  ')
      ShapeId(SHAPE_ID)
        PsiElement(ID)('tower')
      PsiElement(DOT)('.')
      D2ShapeConnection(SHAPE_CONNECTION)
        ShapeId(SHAPE_ID)
          PsiElement(ID)('transmitter')
        PsiWhiteSpace(' ')
        D2Connector(CONNECTOR)
          PsiElement(ARROW)('->')
        PsiWhiteSpace(' ')
        ShapeId(SHAPE_ID)
          PsiElement(ID)('processor')
      PsiElement(COLON)(':')
      PsiWhiteSpace(' ')
      ShapeLabel(SHAPE_LABEL)
        PsiElement(UNQUOTED_STRING)('phone logs')
      PsiWhiteSpace('\n')
      PsiElement(RBRACE)('}')
  PsiWhiteSpace('\n')
  ShapeDeclaration(SHAPE_DECLARATION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('server')
    PsiElement(COLON)(':')
    PsiWhiteSpace(' ')
    ShapeLabel(SHAPE_LABEL)
      PsiElement(UNQUOTED_STRING)('API Server')
  PsiWhiteSpace('\n\n')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('user')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('network')
  PsiElement(DOT)('.')
  ShapeId(SHAPE_ID)
    PsiElement(ID)('tower')
  PsiElement(COLON)(':')
  PsiWhiteSpace(' ')
  ShapeLabel(SHAPE_LABEL)
    PsiElement(UNQUOTED_STRING)('Make call')
  PsiWhiteSpace('\n')
  ShapeId(SHAPE_ID)
    PsiElement(ID)('network')
  PsiElement(DOT)('.')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('processor')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('server')
  PsiWhiteSpace('\n')
  ShapeId(SHAPE_ID)
    PsiElement(ID)('network')
  PsiElement(DOT)('.')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('processor')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('server')
  PsiWhiteSpace('\n')
  ShapeId(SHAPE_ID)
    PsiElement(ID)('network')
  PsiElement(DOT)('.')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('processor')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('server')
  PsiWhiteSpace('\n\n')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('server')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('logs')
  PsiWhiteSpace('\n')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('server')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('logs')
  PsiWhiteSpace('\n')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('server')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('logs')
  PsiElement(COLON)(':')
  PsiWhiteSpace(' ')
  ShapeLabel(SHAPE_LABEL)
    PsiElement(UNQUOTED_STRING)('persist')
  PsiWhiteSpace('\n\n')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('server')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('network')
  PsiElement(DOT)('.')
  ShapeId(SHAPE_ID)
    PsiElement(ID)('portal')
  PsiElement(DOT)('.')
  ShapeId(SHAPE_ID)
    PsiElement(ID)('UI')
  PsiElement(COLON)(':')
  PsiWhiteSpace(' ')
  ShapeLabel(SHAPE_LABEL)
    PsiElement(UNQUOTED_STRING)('display')
  PsiWhiteSpace('\n')
  D2ShapeConnection(SHAPE_CONNECTION)
    ShapeId(SHAPE_ID)
      PsiElement(ID)('user')
    PsiWhiteSpace(' ')
    D2Connector(CONNECTOR)
      PsiElement(ARROW)('->')
    PsiWhiteSpace(' ')
    ShapeId(SHAPE_ID)
      PsiElement(ID)('network')
  PsiElement(DOT)('.')
  ShapeId(SHAPE_ID)
    PsiElement(ID)('portal')
  PsiElement(DOT)('.')
  ShapeId(SHAPE_ID)
    PsiElement(ID)('UI')
  PsiElement(COLON)(':')
  PsiWhiteSpace(' ')
  ShapeLabel(SHAPE_LABEL)
    PsiElement(UNQUOTED_STRING)('access')
  PsiWhiteSpace(' ')
  D2BlockDefinition(BLOCK_DEFINITION)
    PsiElement(LBRACE)('{')
    PsiWhiteSpace('\n  ')
    D2Property(PROPERTY)
      D2PropertyKey(PROPERTY_KEY)
        PsiElement(STYLE_KEYWORD)('style')
        PsiElement(DOT)('.')
        PsiElement(STYLE_KEYWORDS)('stroke-dash')
      PsiElement(COLON)(':')
      PsiWhiteSpace(' ')
      OtherValue(OTHER_VALUE)
        PsiElement(INT)('3')
    PsiWhiteSpace('\n')
    PsiElement(RBRACE)('}')